<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clippy Evaluation</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --success-color: #16a34a;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --background-color: #f8fafc;
            --card-background: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --clippy-color: #3b82f6;
            --gamma-color: #ef4444;
            --tie-color: #64748b;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-primary);
            line-height: 1.5;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .dashboard-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .dashboard-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .dashboard-subtitle {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .summary-card {
            background: var(--card-background);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .chart-card {
            background: var(--card-background);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .chart-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .line-chart-container {
            position: relative;
            height: 300px;
            margin-bottom: 1rem;
        }

        .line-chart {
            width: 100%;
            height: 100%;
            position: relative;
            border-left: 2px solid var(--border-color);
            border-bottom: 2px solid var(--border-color);
        }

        .line-chart svg {
            width: 100%;
            height: 100%;
            overflow: visible;
        }

        .line-path {
            fill: none;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .line-path.clippy { stroke: var(--clippy-color); }
        .line-path.gamma { stroke: var(--gamma-color); }
        .line-path.diff { stroke: var(--success-color); }
        .line-path.consistency { stroke: var(--warning-color); }

        .line-point {
            fill: white;
            stroke-width: 3;
            r: 5;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .line-point.clippy { stroke: var(--clippy-color); }
        .line-point.gamma { stroke: var(--gamma-color); }
        .line-point.diff { stroke: var(--success-color); }
        .line-point.consistency { stroke: var(--warning-color); }

        .line-point:hover {
            r: 7;
            stroke-width: 4;
        }

        .data-label {
            font-size: 10px;
            font-weight: 700;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            text-anchor: middle;
            dominant-baseline: middle;
            fill: var(--text-primary);
            pointer-events: none;
        }

        .data-label-background {
            fill: rgba(255, 255, 255, 0.95);
            stroke: rgba(59, 130, 246, 0.2);
            stroke-width: 0.8;
            rx: 4;
            ry: 4;
            pointer-events: none;
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
        }

        .legend-color {
            width: 16px;
            height: 3px;
            border-radius: 2px;
        }

        .legend-color.clippy { background: var(--clippy-color); }
        .legend-color.gamma { background: var(--gamma-color); }
        .legend-color.diff { background: var(--success-color); }
        .legend-color.consistency { background: var(--warning-color); }

        .chart-axis-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .y-axis-label {
            position: absolute;
            left: -40px;
            top: 50%;
            transform: rotate(-90deg) translateY(50%);
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .data-table-container {
            background: var(--card-background);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            overflow-x: auto;
            margin-bottom: 2rem;
        }

        .table-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .data-table th {
            background: var(--primary-color);
            color: white;
            padding: 0.75rem;
            text-align: center;
            font-weight: 600;
            border: 1px solid var(--primary-color);
        }

        .data-table td {
            padding: 0.75rem;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .data-table tr:nth-child(even) {
            background: #f8fafc;
        }

        .data-table tr:hover {
            background: #e2e8f0;
        }

        .metric-name {
            font-weight: 600;
            text-align: left !important;
            color: var(--text-primary);
        }

        .highlight-best {
            background: #dcfce7 !important;
            color: var(--success-color);
            font-weight: 600;
        }

        .highlight-worst {
            background: #fee2e2 !important;
            color: var(--danger-color);
            font-weight: 600;
        }

        .full-width-chart {
            grid-column: 1 / -1;
        }

        @media (max-width: 768px) {
            .dashboard-container { padding: 1rem; }
            .dashboard-title { font-size: 2rem; }
            .charts-container { grid-template-columns: 1fr; }
            .summary-cards { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
            .line-chart-container { height: 250px; }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="dashboard-container fade-in">
        <div class="dashboard-header">
            <h1 class="dashboard-title">Clippy Evaluation</h1>
            <p class="dashboard-subtitle">SBSLeo Score: Range (-99 to +99) â€¢ Combined across all dimensions and segments. If the value is greater than 0, it indicates that Clippy performs better overall on this test set</p>
            <p class="dashboard-subtitle">Win Rate Difference = Clippy Win Rate - Gamma Win Rate</p>
        </div>

        <!-- Charts Section -->
        <div class="charts-container">
            <div class="chart-card">
                <h3 class="chart-title">SBSLeo Score Trend</h3>
                <div class="line-chart-container">
                    <div class="y-axis-label">Score</div>
                    <div class="line-chart">
                        <svg id="sbsleoChart"></svg>
                    </div>
                    <div class="chart-axis-labels">
                        <span>11/12</span>
                        <span>11/13</span>
                        <span>11/14</span>
                        <span>11/17</span>
                        <span>11/19</span>
                        <span>11/20</span>
                        <span>11/24</span>
                        <span>11/25</span>
                        <span>11/26</span>
                        <span>11/27</span>
                        <span>11/28</span>
                        <span>12/1</span>
                    </div>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color diff"></div>
                        <span>SBSLeo Score</span>
                    </div>
                </div>
            </div>

            <div class="chart-card">
                <h3 class="chart-title">Win Rate Difference Trends</h3>
                <div class="line-chart-container">
                    <div class="y-axis-label">Difference (%)</div>
                    <div class="line-chart">
                        <svg id="winRateDiffChart"></svg>
                    </div>
                    <div class="chart-axis-labels">
                        <span>11/12</span>
                        <span>11/13</span>
                        <span>11/14</span>
                        <span>11/17</span>
                        <span>11/19</span>
                        <span>11/20</span>
                        <span>11/24</span>
                        <span>11/25</span>
                        <span>11/26</span>
                        <span>11/27</span>
                        <span>11/28</span>
                        <span>12/1</span>
                    </div>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color clippy"></div>
                        <span>Fidelity Diff</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color gamma"></div>
                        <span>Aesthetics Diff</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color consistency"></div>
                        <span>Consistency Diff</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Weekly Charts Section -->
        <div class="charts-container">
            <div class="chart-card">
                <h3 class="chart-title">SBSLeo Score Trend (Weekly)</h3>
                <div class="line-chart-container">
                    <div class="y-axis-label">Score</div>
                    <div class="line-chart">
                        <svg id="weeklySbsleoChart"></svg>
                    </div>
                    <div class="chart-axis-labels">
                        <span>11/16</span>
                        <span>11/23</span>
                        <span>11/30</span>
                    </div>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color diff"></div>
                        <span>SBSLeo Score</span>
                    </div>
                </div>
            </div>

            <div class="chart-card">
                <h3 class="chart-title">Win Rate Difference Trends (Weekly)</h3>
                <div class="line-chart-container">
                    <div class="y-axis-label">Difference (%)</div>
                    <div class="line-chart">
                        <svg id="weeklyWinRateDiffChart"></svg>
                    </div>
                    <div class="chart-axis-labels">
                        <span>11/16</span>
                        <span>11/23</span>
                        <span>11/30</span>
                    </div>
                </div>
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color clippy"></div>
                        <span>Fidelity Diff</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color gamma"></div>
                        <span>Aesthetics Diff</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color consistency"></div>
                        <span>Consistency Diff</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Table (Daily) -->
        <div class="data-table-container">
            <h3 class="table-title">Detailed Performance Data (Daily)</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>SBSLeo Score</th>
                        <th>Test Cases</th>
                        <th>Dimension</th>
                        <th>Clippy</th>
                        <th>Gamma</th>
                        <th>Tie</th>
                        <th>Win Rate Diff</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 11/12 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/12</td>
                        <td rowspan="3" class="highlight-worst">-16.76</td>
                        <td rowspan="3">26</td>
                        <td class="metric-name">Fidelity</td>
                        <td>38.5%</td>
                        <td>53.8%</td>
                        <td>7.7%</td>
                        <td class="highlight-worst">-15.3%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>50.0%</td>
                        <td>50.0%</td>
                        <td>0.0%</td>
                        <td>0.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>19.2%</td>
                        <td>57.7%</td>
                        <td>23.1%</td>
                        <td class="highlight-worst">-38.5%</td>
                    </tr>
                    <!-- 11/13 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/13</td>
                        <td rowspan="3">25.43</td>
                        <td rowspan="3">14</td>
                        <td class="metric-name">Fidelity</td>
                        <td class="highlight-best">85.7%</td>
                        <td>14.3%</td>
                        <td>0.0%</td>
                        <td class="highlight-best">71.4%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>57.1%</td>
                        <td>42.9%</td>
                        <td>0.0%</td>
                        <td>14.2%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>28.6%</td>
                        <td>28.6%</td>
                        <td>42.9%</td>
                        <td>0.0%</td>
                    </tr>
                    <!-- 11/14 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/14</td>
                        <td rowspan="3">20.20</td>
                        <td rowspan="3">5</td>
                        <td class="metric-name">Fidelity</td>
                        <td>60.0%</td>
                        <td>20.0%</td>
                        <td>60.0%</td>
                        <td>40.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>40.0%</td>
                        <td>0.0%</td>
                        <td>40.0%</td>
                        <td>40.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>20.0%</td>
                        <td>0.0%</td>
                        <td>20.0%</td>
                        <td>20.0%</td>
                    </tr>
                    <!-- 11/17 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/17</td>
                        <td rowspan="3">-8.31</td>
                        <td rowspan="3">16</td>
                        <td class="metric-name">Fidelity</td>
                        <td>62.5%</td>
                        <td>25.0%</td>
                        <td>12.5%</td>
                        <td>37.5%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>37.5%</td>
                        <td>62.5%</td>
                        <td>0.0%</td>
                        <td>-25.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>12.5%</td>
                        <td>50.0%</td>
                        <td>37.5%</td>
                        <td>-37.5%</td>
                    </tr>
                    <!-- 11/19 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/19</td>
                        <td rowspan="3">20.43</td>
                        <td rowspan="3">21</td>
                        <td class="metric-name">Fidelity</td>
                        <td>81.0%</td>
                        <td>19.0%</td>
                        <td>0.0%</td>
                        <td>62.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>66.7%</td>
                        <td>33.3%</td>
                        <td>0.0%</td>
                        <td>33.4%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>19.0%</td>
                        <td>33.3%</td>
                        <td>47.6%</td>
                        <td>-14.3%</td>
                    </tr>
                    <!-- 11/20 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/20</td>
                        <td rowspan="3">19.59</td>
                        <td rowspan="3">21</td>
                        <td class="metric-name">Fidelity</td>
                        <td>66.7%</td>
                        <td>23.8%</td>
                        <td>9.5%</td>
                        <td>42.9%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>61.9%</td>
                        <td>33.3%</td>
                        <td>4.8%</td>
                        <td>28.6%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>28.6%</td>
                        <td>38.1%</td>
                        <td>33.3%</td>
                        <td>-9.5%</td>
                    </tr>
                    <!-- 11/24 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/24</td>
                        <td rowspan="3">9.19</td>
                        <td rowspan="3">23</td>
                        <td class="metric-name">Fidelity</td>
                        <td>47.8%</td>
                        <td>47.8%</td>
                        <td>4.3%</td>
                        <td>0.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>60.9%</td>
                        <td>39.1%</td>
                        <td>39.1%</td>
                        <td>21.8%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>17.4%</td>
                        <td>21.7%</td>
                        <td>21.7%</td>
                        <td>-4.3%</td>
                    </tr>
                    <!-- 11/25 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/25</td>
                        <td rowspan="3" class="highlight-best">31.33</td>
                        <td rowspan="3">25</td>
                        <td class="metric-name">Fidelity</td>
                        <td>64.0%</td>
                        <td>20.0%</td>
                        <td>16.0%</td>
                        <td>44.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td class="highlight-best">76.0%</td>
                        <td>24.0%</td>
                        <td>0.0%</td>
                        <td class="highlight-best">52.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>36.0%</td>
                        <td>24.0%</td>
                        <td>40.0%</td>
                        <td>12.0%</td>
                    </tr>
                    <!-- 11/26 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/26</td>
                        <td rowspan="3">6.77</td>
                        <td rowspan="3">26</td>
                        <td class="metric-name">Fidelity</td>
                        <td>46.2%</td>
                        <td>42.3%</td>
                        <td>11.5%</td>
                        <td>3.9%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>65.4%</td>
                        <td>34.6%</td>
                        <td>0.0%</td>
                        <td>30.8%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>19.2%</td>
                        <td>46.2%</td>
                        <td>34.6%</td>
                        <td>-27.0%</td>
                    </tr>
                    <!-- 11/27 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/27</td>
                        <td rowspan="3">26.82</td>
                        <td rowspan="3">29</td>
                        <td class="metric-name">Fidelity</td>
                        <td>74.1%</td>
                        <td>22.2%</td>
                        <td>3.7%</td>
                        <td>51.9%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>66.7%</td>
                        <td>33.3%</td>
                        <td>0.0%</td>
                        <td>33.4%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>25.9%</td>
                        <td>22.2%</td>
                        <td>51.9%</td>
                        <td>3.7%</td>
                    </tr>
                    <!-- 11/28 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/28</td>
                        <td rowspan="3">18.69</td>
                        <td rowspan="3">30</td>
                        <td class="metric-name">Fidelity</td>
                        <td>60.7%</td>
                        <td>35.7%</td>
                        <td>3.6%</td>
                        <td>25.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>57.1%</td>
                        <td>39.3%</td>
                        <td>3.6%</td>
                        <td>17.8%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>25.0%</td>
                        <td>14.3%</td>
                        <td>60.7%</td>
                        <td>10.7%</td>
                    </tr>
                    <!-- 12/1 -->
                    <tr>
                        <td rowspan="3" class="metric-name">12/1</td>
                        <td rowspan="3">24.99</td>
                        <td rowspan="3">26</td>
                        <td class="metric-name">Fidelity</td>
                        <td>65.4%</td>
                        <td>34.6%</td>
                        <td>3.6%</td>
                        <td>30.8%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>65.4%</td>
                        <td>34.6%</td>
                        <td>3.6%</td>
                        <td>30.8%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>76.9%</td>
                        <td>23.1%</td>
                        <td>60.7%</td>
                        <td class="highlight-best">53.8%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Data Table (Weekly) -->
        <div class="data-table-container">
            <h3 class="table-title">Detailed Performance Data (Weekly)</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>SBSLeo Score</th>
                        <th>Test Cases</th>
                        <th>Dimension</th>
                        <th>Clippy</th>
                        <th>Gamma</th>
                        <th>Tie</th>
                        <th>Win Rate Diff</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 11/16 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/16</td>
                        <td rowspan="3">13.25</td>
                        <td rowspan="3">91</td>
                        <td class="metric-name">Fidelity</td>
                        <td>69.2%</td>
                        <td>26.4%</td>
                        <td>4.4%</td>
                        <td>42.8%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>46.2%</td>
                        <td>49.5%</td>
                        <td>4.4%</td>
                        <td>-3.3%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>30.8%</td>
                        <td>27.5%</td>
                        <td>41.8%</td>
                        <td>3.3%</td>
                    </tr>
                    <!-- 11/23 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/23</td>
                        <td rowspan="3">27.24</td>
                        <td rowspan="3">104</td>
                        <td class="metric-name">Fidelity</td>
                        <td>74.2%</td>
                        <td>24.2%</td>
                        <td>1.7%</td>
                        <td>50.0%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>60.1%</td>
                        <td>34.8%</td>
                        <td>5.1%</td>
                        <td>25.3%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>36.0%</td>
                        <td>18.5%</td>
                        <td>45.5%</td>
                        <td>17.5%</td>
                    </tr>
                    <!-- 11/30 -->
                    <tr>
                        <td rowspan="3" class="metric-name">11/30</td>
                        <td rowspan="3">24.56</td>
                        <td rowspan="3">88</td>
                        <td class="metric-name">Fidelity</td>
                        <td>68.2%</td>
                        <td>27.3%</td>
                        <td>4.5%</td>
                        <td>40.9%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Aesthetics</td>
                        <td>61.4%</td>
                        <td>31.8%</td>
                        <td>6.8%</td>
                        <td>29.6%</td>
                    </tr>
                    <tr>
                        <td class="metric-name">Consistency</td>
                        <td>36.4%</td>
                        <td>20.5%</td>
                        <td>43.2%</td>
                        <td>15.9%</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Data for charts
        const dates = ['11/12', '11/13', '11/14', '11/17', '11/19', '11/20', '11/24', '11/25', '11/26', '11/27', '11/28', '12/1'];
        const sbsleoScores = [-16.76, 25.43, 20.20, -8.31, 20.43, 19.59, 9.19, 31.33, 6.77, 26.82, 18.69, 24.99];
        
        // Win rate differences
        const fidelityDiff = [-15.3, 71.4, 40.0, 37.5, 62.0, 42.9, 0.0, 44.0, 3.9, 51.9, 25.0, 30.8];
        const aestheticsDiff = [0.0, 14.2, 40.0, -25.0, 33.4, 28.6, 21.8, 52.0, 30.8, 33.4, 17.8, 30.8];
        const consistencyDiff = [-38.5, 0.0, 20.0, -37.5, -14.3, -9.5, -4.3, 12.0, -27.0, 3.7, 10.7, 53.8];

        // Weekly data (11/16, 11/23, and 11/30)
        const weeklyDates = ['11/16', '11/23', '11/30'];
        const weeklySbsleoScores = [13.25, 27.24, 24.56];
        
        // Weekly win rate differences
        const weeklyFidelityDiff = [42.8, 50.0, 40.9];
        const weeklyAestheticsDiff = [-3.3, 25.3, 29.6];
        const weeklyConsistencyDiff = [3.3, 17.5, 15.9];

        function createLineChart(svgId, datasets, yMin = null, yMax = null, chartDates = null) {
            const svg = document.getElementById(svgId);
            const rect = svg.getBoundingClientRect();
            const width = rect.width || 400;
            const height = rect.height || 250;
            const padding = { top: 30, right: 20, bottom: 20, left: 50 };
            
            // Clear existing content
            svg.innerHTML = '';
            
            // Calculate y-axis range
            let allValues = [];
            datasets.forEach(dataset => allValues = allValues.concat(dataset.data));
            const dataMin = yMin !== null ? yMin : Math.min(...allValues);
            const dataMax = yMax !== null ? yMax : Math.max(...allValues);
            const range = dataMax - dataMin;
            const yAxisMin = yMin !== null ? yMin : (dataMin - range * 0.1);
            const yAxisMax = yMax !== null ? yMax : (dataMax + range * 0.1);
            
            // Use provided dates or default dates
            const useDates = chartDates || dates;
            
            // Create scales
            const xScale = (width - padding.left - padding.right) / (useDates.length - 1);
            const yScale = (height - padding.top - padding.bottom) / (yAxisMax - yAxisMin);
            
            // Draw y-axis labels and grid lines
            const gridGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            gridGroup.setAttribute('opacity', '0.1');
            
            // Horizontal grid lines
            for (let i = 0; i <= 5; i++) {
                const y = padding.top + (i * (height - padding.top - padding.bottom) / 5);
                const value = yAxisMax - (i * (yAxisMax - yAxisMin) / 5);
                
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', padding.left);
                line.setAttribute('y1', y);
                line.setAttribute('x2', width - padding.right);
                line.setAttribute('y2', y);
                line.setAttribute('stroke', '#64748b');
                line.setAttribute('stroke-width', '1');
                gridGroup.appendChild(line);
                
                const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                label.setAttribute('x', padding.left - 8);
                label.setAttribute('y', y + 3);
                label.setAttribute('text-anchor', 'end');
                label.setAttribute('font-size', '10px');
                label.setAttribute('font-family', 'Segoe UI, system-ui, sans-serif');
                label.setAttribute('fill', '#64748b');
                label.textContent = value.toFixed(1);
                svg.appendChild(label);
            }
            
            svg.appendChild(gridGroup);
            
            // Draw zero line for diff charts
            if (yAxisMin < 0 && yAxisMax > 0) {
                const zeroY = height - padding.bottom - (0 - yAxisMin) * yScale;
                const zeroLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                zeroLine.setAttribute('x1', padding.left);
                zeroLine.setAttribute('y1', zeroY);
                zeroLine.setAttribute('x2', width - padding.right);
                zeroLine.setAttribute('y2', zeroY);
                zeroLine.setAttribute('stroke', '#dc2626');
                zeroLine.setAttribute('stroke-width', '2');
                zeroLine.setAttribute('stroke-dasharray', '5,5');
                zeroLine.setAttribute('opacity', '0.7');
                svg.appendChild(zeroLine);
            }
            
            // Draw lines and points for each dataset
            datasets.forEach(dataset => {
                // Create path
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                let pathData = '';
                
                dataset.data.forEach((value, i) => {
                    const x = padding.left + i * xScale;
                    const y = height - padding.bottom - (value - yAxisMin) * yScale;
                    
                    if (i === 0) {
                        pathData += `M ${x} ${y}`;
                    } else {
                        pathData += ` L ${x} ${y}`;
                    }
                });
                
                path.setAttribute('d', pathData);
                path.setAttribute('class', `line-path ${dataset.class}`);
                path.setAttribute('opacity', '0');
                svg.appendChild(path);
                
                // Animate line
                setTimeout(() => {
                    path.style.transition = 'opacity 1s ease';
                    path.style.opacity = '1';
                }, dataset.delay || 0);
                
                // Create points with data labels
                dataset.data.forEach((value, i) => {
                    const x = padding.left + i * xScale;
                    const y = height - padding.bottom - (value - yAxisMin) * yScale;
                    
                    // Create data label
                    const labelText = `${value}${dataset.unit || ''}`;
                    const textWidth = labelText.length * 6;
                    const textHeight = 12;
                    const labelY = y - 15;
                    
                    const labelBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    labelBg.setAttribute('x', x - textWidth / 2);
                    labelBg.setAttribute('y', labelY - textHeight / 2);
                    labelBg.setAttribute('width', textWidth);
                    labelBg.setAttribute('height', textHeight);
                    labelBg.setAttribute('class', 'data-label-background');
                    labelBg.setAttribute('opacity', '0');
                    svg.appendChild(labelBg);
                    
                    const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    label.setAttribute('x', x);
                    label.setAttribute('y', labelY);
                    label.setAttribute('class', 'data-label');
                    label.setAttribute('opacity', '0');
                    label.textContent = labelText;
                    svg.appendChild(label);
                    
                    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    circle.setAttribute('cx', x);
                    circle.setAttribute('cy', y);
                    circle.setAttribute('class', `line-point ${dataset.class}`);
                    circle.setAttribute('opacity', '0');
                    
                    const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
                    title.textContent = `${dataset.name}: ${value}${dataset.unit || ''} (${useDates[i]})`;
                    circle.appendChild(title);
                    
                    svg.appendChild(circle);
                    
                    // Animate elements
                    const pointDelay = (dataset.delay || 0) + i * 100;
                    
                    setTimeout(() => {
                        labelBg.style.transition = 'opacity 0.5s ease';
                        labelBg.style.opacity = '0.9';
                        label.style.transition = 'opacity 0.5s ease';
                        label.style.opacity = '1';
                        circle.style.transition = 'opacity 0.5s ease';
                        circle.style.opacity = '1';
                    }, pointDelay);
                });
            });
        }

        // Initialize charts when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // SBSLeo Score Chart
            setTimeout(() => {
                createLineChart('sbsleoChart', [
                    { name: 'SBSLeo Score', class: 'diff', data: sbsleoScores, unit: '', delay: 0 }
                ], 0, 35);
            }, 200);

            // Win Rate Difference Chart
            setTimeout(() => {
                createLineChart('winRateDiffChart', [
                    { name: 'Fidelity Diff', class: 'clippy', data: fidelityDiff, unit: '%', delay: 0 },
                    { name: 'Aesthetics Diff', class: 'gamma', data: aestheticsDiff, unit: '%', delay: 300 },
                    { name: 'Consistency Diff', class: 'consistency', data: consistencyDiff, unit: '%', delay: 600 }
                ], 0, 75);
            }, 500);

            // Weekly SBSLeo Score Chart
            setTimeout(() => {
                createLineChart('weeklySbsleoChart', [
                    { name: 'SBSLeo Score', class: 'diff', data: weeklySbsleoScores, unit: '', delay: 0 }
                ], 0, 30, weeklyDates);
            }, 800);

            // Weekly Win Rate Difference Chart
            setTimeout(() => {
                createLineChart('weeklyWinRateDiffChart', [
                    { name: 'Fidelity Diff', class: 'clippy', data: weeklyFidelityDiff, unit: '%', delay: 0 },
                    { name: 'Aesthetics Diff', class: 'gamma', data: weeklyAestheticsDiff, unit: '%', delay: 300 },
                    { name: 'Consistency Diff', class: 'consistency', data: weeklyConsistencyDiff, unit: '%', delay: 600 }
                ], 0, 60, weeklyDates);
            }, 1100);
        });
    </script>
</body>
</html>
